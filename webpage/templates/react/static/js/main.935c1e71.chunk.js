(this.webpackJsonpccfinal=this.webpackJsonpccfinal||[]).push([[0],{23:function(e,t,n){},48:function(e,t,n){},52:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(25),c=n.n(s),i=n(15),r=n(16),o=n(2),l=n(8),d=n(9),u=n(11),m=n(10),j=n(26),p=n(0),h=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).PlayerPlaying=function(e){a.props.sendStatus(!0)},a.PlayerPaused=function(e){a.props.sendStatus(!1)},a.PlayerChanged=function(e){var t=e.target.getVideoData();a.props.sendVideoInfo(t)},a.PlayerReady=function(e){e.target.cuePlaylist({listType:"playlist",list:localStorage.getItem("preferences")?"".concat(JSON.parse(localStorage.getItem("preferences")).playlistId):"PLx65qkgCWNJIs3FPaj8JZhduXSpQ_ZfvL",index:JSON.parse(localStorage.getItem("preferences")).shuffle?Math.round(9*Math.random()+1):0}),e.target.setPlaybackQuality("low");var t=function(t){e.target.setVolume(t)};t(a.state.volume);var n=function(){e.target.setShuffle(JSON.parse(localStorage.getItem("preferences")).shuffle),e.target.setLoop(!0)};document.getElementById("playpause").addEventListener("click",(function(){a.props.playingStatus?e.target.pauseVideo():e.target.playVideo(),setTimeout(n,1e3)}));var s=document.querySelector(".spinner");s.addEventListener("click",(function(){a.props.playingStatus?e.target.pauseVideo():e.target.playVideo(),setTimeout(n,1e3)})),s.addEventListener("timerStatus",(function(t){t.detail.value?e.target.playVideo():e.target.pauseVideo(),setTimeout(n,1e3)})),document.getElementById("nextbutton").addEventListener("click",(function(){e.target.nextVideo()})),document.getElementById("prevbutton").addEventListener("click",(function(){e.target.previousVideo()})),document.addEventListener("keydown",(function(e){switch(e.code){case"ArrowUp":a.setState((function(e){if(100!==e.volume)return t(e.volume+5),{volume:e.volume+5}}));break;case"ArrowDown":a.setState((function(e){if(0!==e.volume)return t(e.volume-5),{volume:e.volume-5}}))}})),a.props.playerReady(!0)},a.state={volume:50},a}return Object(d.a)(n,[{key:"render",value:function(){return Object(p.jsx)(j.a,{opts:{height:"390",width:"640",playerVars:{autoplay:0}},onReady:this.PlayerReady,onStateChange:this.PlayerChanged,onPlay:this.PlayerPlaying,onPause:this.PlayerPaused})}}]),n}(a.Component);n(48);n(49).config();var b,f,g=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).componentDidMount=function(){e.setState({preferences:JSON.parse(localStorage.getItem("preferences"))})},e.handleVideoInfo=function(t){e.setState({nowPlaying:t,thumbnail:"https://img.youtube.com/vi/".concat(t.video_id,"/0.jpg")})},e.getPlayingStatus=function(t){e.setState({playingStatus:t})},e.state={playingStatus:!1,nowPlaying:"",preferences:[]},e}return Object(d.a)(n,[{key:"render",value:function(){var e={background:"url("+this.state.thumbnail+") no-repeat center"};return Object(p.jsxs)("div",{className:"music",children:[Object(p.jsx)("p",{children:"Now Playing"}),Object(p.jsx)("h3",{children:this.state.nowPlaying.title}),Object(p.jsx)("div",{className:"spinner",id:"spinner",onClick:this.spinHandler,style:e,children:Object(p.jsx)("div",{className:"hole",children:Object(p.jsx)("div",{className:"secondhole"})})}),Object(p.jsx)("div",{id:"player"}),Object(p.jsxs)("div",{className:"button-container",children:[Object(p.jsx)("button",{id:"prevbutton",className:"buttons",children:Object(p.jsx)("i",{className:"material-icons-round",children:"skip_previous"})}),Object(p.jsx)("button",{id:"playpause",className:"buttons",children:Object(p.jsx)("i",{className:"material-icons-round",children:this.state.playingStatus?"pause_circle_filled":"play_circle_filled"})}),Object(p.jsx)("button",{id:"nextbutton",className:"buttons",children:Object(p.jsx)("i",{className:"material-icons-round",children:"skip_next"})})]}),Object(p.jsx)(h,{videoId:this.state.nowPlaying.videoId,playingStatus:this.state.playingStatus,sendVideoInfo:this.handleVideoInfo,sendStatus:this.getPlayingStatus,playerReady:this.props.setPlayerStatus})]})}}]),n}(a.Component),O=(n(52),n.p+"static/media/session_completed.4e5c754b.ogg"),y=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).componentDidMount=function(){var e=document.querySelector(".spinner");f=function(t){var n=new CustomEvent("timerStatus",{detail:{value:t}});e.dispatchEvent(n)}},e.timer=function(){if(e.props.playerReady){e.setState({started:!0}),f(!0);var t=new Audio(O),n=e.state.sessionLength,a=Date.now()+1e3*n;b=setInterval((function(){var n=Math.round((a-Date.now())/1e3);n<=0&&e.sessionEnded(t),e.displayCountdown(n)}),1e3)}else setTimeout((function(){e.timer()}),1e3)},e.displayCountdown=function(t){var n=Math.floor(t/60),a=t%60,s="".concat(n<10?"0":"").concat(n,":").concat(a<10?"0":"").concat(a);e.setState({time:s})},e.clearTimer=function(){f(!1),clearInterval(b),e.setState({started:!1,time:"25:00"})},e.sessionEnded=function(t){JSON.parse(localStorage.getItem("preferences")).continue||f(!1),t.play(),clearInterval(b),localStorage.getItem("focusedTime")?localStorage.setItem("focusedTime",Number(localStorage.getItem("focusedTime"))+25):localStorage.setItem("focusedTime",25),e.props.sendFocusedTime(localStorage.getItem("focusedTime")),setTimeout((function(){e.setState({started:!1,time:"25:00",timeFocused:localStorage.getItem("focusedTime")})}),500)},e.state={sessionLength:1500,started:!1,time:"25:00"},e}return Object(d.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"timer",children:[Object(p.jsx)("p",{children:"Time Remaining"}),Object(p.jsx)("h1",{children:this.state.time}),Object(p.jsx)("button",{id:"timerStarter",onClick:this.state.started?this.clearTimer:this.timer,children:this.state.started?"Quit!":"Start Timer"})]})}}]),n}(a.Component),v=(n(23),function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){if(a.setState({expanded:!!document.querySelector(".bulk-container").classList.contains("active"),focusedTime:localStorage.getItem("focusedTime")?localStorage.getItem("focusedTime"):0}),document.getElementById("toggle").addEventListener("click",(function(){document.querySelector(".bulk-container").classList.toggle("active"),a.setState({expanded:!!document.querySelector(".bulk-container").classList.contains("active")})})),"TRUE"!==Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DEBUG){window.console||(window.console={});for(var e=["log","debug","warn","info","error"],t=0;t<e.length;t++)console[e[t]]=function(){}}},a.getFocusedTime=function(e){a.setState({focusedTime:e})},a.setPlayerStatus=function(e){a.setState({playerReady:e})},a.state={expanded:"",focusedTime:0,playerReady:!1},a}return Object(d.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:this.props.darkmode?"main-container dark-mode":"main-container light-mode",children:[Object(p.jsxs)("div",{className:"heading",children:[Object(p.jsx)("h1",{children:"CC-Final Pomodoro"}),Object(p.jsxs)("div",{className:"focusedTime",children:[Object(p.jsx)("p",{children:"Total Focused Time"}),Object(p.jsxs)("p",{children:[this.state.focusedTime," minutes"]})]})]}),Object(p.jsxs)("div",{className:"bulk-container",children:[Object(p.jsx)("button",{id:"toggle",children:Object(p.jsx)("i",{className:"material-icons-round",children:this.state.expanded?"chevron_left":"queue_music"})}),Object(p.jsx)(y,{sendFocusedTime:this.getFocusedTime,playerReady:this.state.playerReady}),Object(p.jsx)(g,{setPlayerStatus:this.setPlayerStatus})]}),Object(p.jsx)("div",{className:"footer",children:Object(p.jsx)(r.b,{id:"settings",to:"/settings",children:Object(p.jsx)("i",{className:"material-icons-round",children:"settings"})})})]})}}]),n}(a.Component)),S=n(14),x=n(13),k=(n(56),function(e){var t=e.darkmode,n=e.setDarkmode,s=Object(a.useState)({playlistId:"",continue:"",shuffle:"",darkmode:""}),c=Object(i.a)(s,2),r=c[0],o=c[1],l=Object(a.useState)(!0),d=Object(i.a)(l,2),u=d[0],m=d[1];Object(a.useEffect)((function(){o(JSON.parse(localStorage.getItem("preferences")))}),[]);var j=function(e){m(!1),o(Object(x.a)(Object(x.a)({},r),{},Object(S.a)({},e.currentTarget.name,e.currentTarget.checked)))};Object(a.useEffect)((function(){if(!u){var e=document.querySelector(".btn.btn-primary");e.style.color="var(--secondary",e.innerHTML="Save Changes",e.style.background="var(--primary)"}}));return Object(p.jsxs)("div",{className:t?"main-container dark-mode":"main-container light-mode",children:[Object(p.jsx)("div",{className:"settings-header",children:Object(p.jsxs)("h1",{children:[Object(p.jsx)("a",{style:{color:"var(--primary)"},href:"/",children:Object(p.jsx)("i",{className:"backbutton material-icons-round",children:"arrow_back"})}),"Settings."]})}),Object(p.jsx)("div",{className:"settings-display",children:Object(p.jsxs)("form",{className:"settings-form",onSubmit:function(e){e.preventDefault();var t=document.querySelector(".btn.btn-primary");t.style.color="#fff",t.innerHTML='<span class="material-icons">done</span>',t.style.background="var(--success)",m(!0);var a=r.playlistId.split("=").pop();o(Object(x.a)(Object(x.a)({},r),{},{playlistId:a}));var s=JSON.parse(localStorage.getItem("preferences"));s.playlistId=a,s.continue=r.continue,s.shuffle=r.shuffle,s.darkmode=r.darkmode,localStorage.setItem("preferences",JSON.stringify(s)),n(r.darkmode)},children:[Object(p.jsxs)("div",{className:"settings-item",children:[Object(p.jsx)("p",{children:"Youtube Playlist URL"}),Object(p.jsx)("input",{className:"playlistLink",name:"playlistId",type:"text",placeholder:"URL",value:r.playlistId,onClick:function(e){return e.target.select()},onChange:function(e){m(!1),o(Object(x.a)(Object(x.a)({},r),{},Object(S.a)({},e.target.name,e.target.value)))}})]}),Object(p.jsxs)("div",{className:"settings-item",children:[Object(p.jsx)("p",{children:"Continue playing after timer"}),Object(p.jsxs)("div",{className:"toggle-container",children:[Object(p.jsx)("input",{id:"switch",className:"continueCheck",name:"continue",type:"checkbox",checked:r.continue,onChange:j}),Object(p.jsx)("label",{htmlFor:"switch",children:"Toggle"})]})]}),Object(p.jsxs)("div",{className:"settings-item",children:[Object(p.jsx)("p",{children:"Shuffle"}),Object(p.jsxs)("div",{className:"toggle-container",children:[Object(p.jsx)("input",{id:"shuffle",name:"shuffle",type:"checkbox",checked:r.shuffle,onChange:j}),Object(p.jsx)("label",{htmlFor:"shuffle",children:"Toggle"})]})]}),Object(p.jsxs)("div",{className:"settings-item",children:[Object(p.jsx)("p",{children:"Dark Mode"}),Object(p.jsxs)("div",{className:"toggle-container",children:[Object(p.jsx)("input",{id:"darkmode",name:"darkmode",type:"checkbox",checked:r.darkmode,onChange:j}),Object(p.jsx)("label",{htmlFor:"darkmode",children:"Toggle"})]})]}),Object(p.jsxs)("div",{className:"button-container",children:[Object(p.jsx)("button",{className:"btn",onClick:function(e){e.preventDefault(),localStorage.removeItem("preferences")},children:"Restore Defaults"}),Object(p.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Save Changes"})]})]})}),Object(p.jsx)("div",{className:"footer",children:Object(p.jsx)("p",{children:"2022 Cloud Computing HW3 Project"})})]})}),N=function(){var e=Object(a.useState)((function(){return!localStorage.getItem("preferences")||JSON.parse(localStorage.getItem("preferences")).darkmode})),t=Object(i.a)(e,2),n=t[0],s=t[1];return Object(a.useEffect)((function(){var e={playlistId:"PLx65qkgCWNJIs3FPaj8JZhduXSpQ_ZfvL",continue:!1,shuffle:!0,darkmode:n};localStorage.getItem("preferences")||localStorage.setItem("preferences",JSON.stringify(e))})),Object(p.jsxs)(r.a,{children:[Object(p.jsx)(o.a,{path:"/",exact:!0,component:function(){return Object(p.jsx)(v,{darkmode:n})}}),Object(p.jsx)(o.a,{path:"/settings",exact:!0,component:function(){return Object(p.jsx)(k,{darkmode:n,setDarkmode:s})}})]})};c.a.render(Object(p.jsx)(N,{}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.935c1e71.chunk.js.map