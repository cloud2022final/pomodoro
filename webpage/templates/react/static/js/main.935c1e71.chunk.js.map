{"version":3,"sources":["Components/ThePlayer.js","Components/MusicPlayer.js","Components/Timer.js","assets/session_completed.ogg","Components/Main.js","Components/Settings.js","Components/App.js","index.js"],"names":["ThePlayer","props","PlayerPlaying","event","sendStatus","PlayerPaused","PlayerChanged","vidInfo","target","getVideoData","sendVideoInfo","PlayerReady","cuePlaylist","listType","list","localStorage","getItem","JSON","parse","playlistId","index","shuffle","Math","round","random","setPlaybackQuality","setVolume","vol","state","volume","setShuffle","setLoop","document","getElementById","addEventListener","playingStatus","pauseVideo","playVideo","setTimeout","spinner","querySelector","e","detail","value","nextVideo","previousVideo","code","setState","prev","playerReady","opts","height","width","playerVars","autoplay","onReady","this","onStateChange","onPlay","onPause","Component","require","config","countdown","statusEvent","MusicPlayer","componentDidMount","preferences","handleVideoInfo","videoData","nowPlaying","thumbnail","video_id","getPlayingStatus","status","thumbnailBG","background","className","title","id","onClick","spinHandler","style","videoId","setPlayerStatus","Timer","val","CustomEvent","dispatchEvent","timer","started","audioInit","Audio","soundfile","seconds","sessionLength","then","Date","now","setInterval","secondsLeft","sessionEnded","displayCountdown","minutes","floor","remainderSeconds","displayedTime","time","clearTimer","clearInterval","audio","continue","play","setItem","Number","sendFocusedTime","timeFocused","Main","expanded","classList","contains","focusedTime","toggle","process","REACT_APP_DEBUG","window","console","methods","i","length","getFocusedTime","darkmode","to","Settings","setDarkmode","useState","pref","setPref","saved","setSaved","useEffect","checkChange","currentTarget","name","checked","btn","color","innerHTML","href","onSubmit","preventDefault","split","pop","local","stringify","type","placeholder","select","onChange","htmlFor","removeItem","App","darkMode","path","exact","component","ReactDOM","render"],"mappings":"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","file":"static/js/main.935c1e71.chunk.js","sourcesContent":["import React,{Component} from \"react\";\r\nimport YouTube from 'react-youtube';\r\n\r\nclass ThePlayer extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      'volume': 50\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const opts = {\r\n      height: \"390\",\r\n      width: \"640\",\r\n      playerVars: {\r\n        autoplay: 0,\r\n      }\r\n    };\r\n\r\n    return (\r\n      <YouTube\r\n        opts={opts}\r\n        onReady={this.PlayerReady}\r\n        onStateChange={this.PlayerChanged}\r\n        onPlay={this.PlayerPlaying}\r\n        onPause={this.PlayerPaused}\r\n      />\r\n    );\r\n  }\r\n\r\n  PlayerPlaying = event => {\r\n    this.props.sendStatus(true);\r\n  };\r\n\r\n  PlayerPaused = event => {\r\n    this.props.sendStatus(false);\r\n  };\r\n\r\n  PlayerChanged = event => {\r\n    const vidInfo = event.target.getVideoData();\r\n    this.props.sendVideoInfo(vidInfo);\r\n  };\r\n\r\n  PlayerReady = event => {\r\n    event.target.cuePlaylist({\r\n      listType: 'playlist',\r\n      list: localStorage.getItem(\"preferences\") ? `${JSON.parse(localStorage.getItem('preferences')).playlistId}` : \"PLx65qkgCWNJIs3FPaj8JZhduXSpQ_ZfvL\",\r\n      index: JSON.parse(localStorage.getItem('preferences')).shuffle ? Math.round(Math.random() * (10-1) + 1) : 0\r\n    });\r\n    event.target.setPlaybackQuality('low');\r\n\r\n    const setVolume = (vol) => {\r\n      event.target.setVolume(vol);\r\n    }\r\n    setVolume(this.state.volume);\r\n\r\n    const setShuffle = () =>{ \r\n      event.target.setShuffle(JSON.parse(localStorage.getItem('preferences')).shuffle);\r\n      event.target.setLoop(true);\r\n    }\r\n\r\n    const playtoggle = document.getElementById(\"playpause\");\r\n    playtoggle.addEventListener(\"click\", () => {\r\n      !this.props.playingStatus\r\n        ? event.target.playVideo()\r\n        : event.target.pauseVideo();\r\n      setTimeout(setShuffle, 1000);\r\n    });\r\n\r\n    const spinner = document.querySelector(\".spinner\");\r\n    spinner.addEventListener(\"click\", () => {\r\n      !this.props.playingStatus\r\n        ? event.target.playVideo()\r\n        : event.target.pauseVideo();\r\n      setTimeout(setShuffle, 1000);\r\n    });\r\n\r\n    spinner.addEventListener(\"timerStatus\", (e) => {\r\n      e.detail.value\r\n        ? event.target.playVideo()\r\n        : event.target.pauseVideo();\r\n      setTimeout(setShuffle, 1000);\r\n    });\r\n\r\n    const nextbutton = document.getElementById(\"nextbutton\");\r\n    nextbutton.addEventListener(\"click\", () => {\r\n      event.target.nextVideo();\r\n    });\r\n\r\n    const prevbutton = document.getElementById(\"prevbutton\");\r\n    prevbutton.addEventListener(\"click\", () => {\r\n      event.target.previousVideo();\r\n    });\r\n\r\n    document.addEventListener(\"keydown\", (e)=>{\r\n      switch(e.code){\r\n        case \"ArrowUp\":\r\n          this.setState(prev => {\r\n            if(prev.volume !== 100){\r\n              setVolume(prev.volume +5);\r\n              return ({\r\n                'volume': prev.volume+5\r\n              });\r\n            }\r\n          });\r\n          break;\r\n        case \"ArrowDown\":\r\n          this.setState(prev => {\r\n            if(prev.volume !== 0){\r\n              setVolume(prev.volume-5);\r\n              return ({\r\n                'volume': prev.volume-5\r\n              });\r\n            }\r\n          });\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    });\r\n    this.props.playerReady(true);\r\n  };\r\n}\r\nexport default ThePlayer;","import React, { Component } from 'react';\r\nimport ThePlayer from './ThePlayer'\r\nimport '../css/MusicPlayer.css';\r\nrequire('dotenv').config();\r\n\r\nclass MusicPlayer extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      playingStatus: false,\r\n      nowPlaying: \"\",\r\n      preferences: []\r\n    };\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.setState({\r\n      preferences: JSON.parse(localStorage.getItem(\"preferences\"))\r\n    });\r\n  }\r\n\r\n  handleVideoInfo = (videoData) => {\r\n    this.setState({ nowPlaying: videoData, thumbnail: `https://img.youtube.com/vi/${videoData.video_id}/0.jpg`})\r\n  }\r\n\r\n  getPlayingStatus = status => {\r\n    this.setState({playingStatus:status});\r\n  }\r\n\r\n  render() {\r\n    const thumbnailBG = {\r\n      background: 'url('+this.state.thumbnail+') no-repeat center'\r\n    }\r\n    return (\r\n      <div className=\"music\">\r\n        <p>Now Playing</p>\r\n        <h3>{this.state.nowPlaying.title}</h3>\r\n        <div className=\"spinner\" id=\"spinner\" onClick={this.spinHandler} style={thumbnailBG}>\r\n          <div className=\"hole\">\r\n            <div className=\"secondhole\"></div>\r\n          </div>\r\n        </div>\r\n        <div id=\"player\"></div>\r\n        <div className=\"button-container\">\r\n          <button id=\"prevbutton\" className=\"buttons\">\r\n            <i className=\"material-icons-round\">skip_previous</i>\r\n        </button>\r\n          <button id=\"playpause\" className=\"buttons\">\r\n            <i className=\"material-icons-round\">{this.state.playingStatus ? \"pause_circle_filled\" : \"play_circle_filled\"}</i>\r\n          </button>\r\n          <button id=\"nextbutton\" className=\"buttons\">\r\n            <i className=\"material-icons-round\">skip_next</i>\r\n          </button>\r\n        </div>\r\n        <ThePlayer\r\n          videoId={this.state.nowPlaying.videoId}\r\n          playingStatus={this.state.playingStatus}\r\n          sendVideoInfo={this.handleVideoInfo}\r\n          sendStatus = {this.getPlayingStatus}\r\n          playerReady = {this.props.setPlayerStatus}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MusicPlayer;","import React, {Component} from \"react\";\r\nimport '../css/Timer.css';\r\nimport soundfile from '../assets/session_completed.ogg';\r\n\r\nlet countdown, statusEvent;\r\n\r\nclass Timer extends Component{\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            sessionLength: 1500,\r\n            started: false,\r\n            time: \"25:00\",\r\n        }\r\n    }\r\n\r\n    componentDidMount = () =>{\r\n        const spinner = document.querySelector(\".spinner\");\r\n        statusEvent = (val) =>{\r\n            const event = new CustomEvent('timerStatus',{\r\n                detail: {\r\n                    value: val\r\n                }\r\n            })\r\n            spinner.dispatchEvent(event);\r\n        }\r\n    }\r\n\r\n    timer = () => {\r\n        if(this.props.playerReady){\r\n            this.setState({started: true});    \r\n            statusEvent(true);\r\n            const audioInit = new Audio(soundfile);\r\n            const seconds = this.state.sessionLength;\r\n            const now = Date.now();\r\n            const then = now + seconds * 1000;\r\n            countdown = setInterval(()=>{\r\n                const secondsLeft = Math.round((then - Date.now())/1000);\r\n                //check if timer should stop\r\n                if(secondsLeft <= 0){\r\n                    this.sessionEnded(audioInit);\r\n                }\r\n                this.displayCountdown(secondsLeft);\r\n            },1000)\r\n        }\r\n        else{\r\n            setTimeout(()=>{\r\n                this.timer();\r\n            },1000);\r\n        }\r\n    }\r\n\r\n    displayCountdown = (seconds) =>{\r\n        const minutes = Math.floor(seconds / 60);\r\n        const remainderSeconds = seconds % 60;\r\n        const displayedTime = `${minutes < 10 ? '0' : ''}${minutes}:${remainderSeconds < 10 ? '0' : ''}${remainderSeconds}`;\r\n        this.setState({time: displayedTime})\r\n    }   \r\n\r\n    clearTimer = () => {\r\n        statusEvent(false);\r\n        clearInterval(countdown);\r\n        this.setState({started: false, time: '25:00' })\r\n    }\r\n\r\n    sessionEnded = (audio) => {\r\n        if(!JSON.parse(localStorage.getItem(\"preferences\")).continue){\r\n            statusEvent(false);\r\n        }\r\n        audio.play();\r\n        clearInterval(countdown);\r\n        if (localStorage.getItem('focusedTime')) {\r\n            localStorage.setItem('focusedTime', Number(localStorage.getItem('focusedTime')) + 25)\r\n        }\r\n        else {\r\n            localStorage.setItem('focusedTime', 25)\r\n        }\r\n        this.props.sendFocusedTime(localStorage.getItem(\"focusedTime\"));\r\n        // Temp\r\n        setTimeout(()=>{\r\n            this.setState({ started: false, time: \"25:00\", timeFocused: localStorage.getItem(\"focusedTime\")});\r\n        }, 500);\r\n    }\r\n\r\n    render(){\r\n        return (\r\n        <div className=\"timer\">\r\n            <p>Time Remaining</p>\r\n            <h1>{this.state.time}</h1>\r\n            <button id=\"timerStarter\" onClick={this.state.started ? this.clearTimer : this.timer}>{!this.state.started ? 'Start Timer' : 'Quit!'}</button>\r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Timer;","export default __webpack_public_path__ + \"static/media/session_completed.4e5c754b.ogg\";","import React, { Component } from 'react';\r\nimport MusicPlayer from './MusicPlayer';\r\nimport Timer from './Timer';   \r\nimport {Link} from 'react-router-dom';\r\nimport '../css/Main.css';\r\n\r\nexport default class Main extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            expanded: \"\",\r\n            focusedTime: 0,\r\n            playerReady: false\r\n        }\r\n    }\r\n\r\n    componentDidMount = () =>{\r\n\r\n        this.setState({ \r\n            expanded: document.querySelector(\".bulk-container\").classList.contains(\"active\") ? true : false, \r\n            focusedTime: localStorage.getItem(\"focusedTime\") ? localStorage.getItem(\"focusedTime\") : 0\r\n        });\r\n\r\n        const button = document.getElementById(\"toggle\");\r\n        button.addEventListener(\"click\", () => {\r\n            const cont = document.querySelector(\".bulk-container\");\r\n            cont.classList.toggle(\"active\");\r\n            this.setState({ expanded: document.querySelector(\".bulk-container\").classList.contains(\"active\") ? true : false, });\r\n        });\r\n        \r\n        // Disable console logs in production\r\n        if(process.env.REACT_APP_DEBUG !== \"TRUE\"){\r\n            if(!window.console) window.console = {};\r\n            var methods = [\"log\", \"debug\", \"warn\", \"info\", \"error\"];\r\n            for(var i=0;i<methods.length;i++){\r\n                console[methods[i]] = function(){};\r\n            }\r\n        }\r\n    }\r\n\r\n    getFocusedTime = (time) =>{\r\n        this.setState({focusedTime: time});\r\n    }\r\n\r\n    setPlayerStatus = status => {\r\n        this.setState({playerReady:status});\r\n      }\r\n\r\n    render() {\r\n        return (\r\n            <div className={this.props.darkmode ? \"main-container dark-mode\" : \"main-container light-mode\"}>\r\n                <div className=\"heading\">\r\n                    <h1>CC-Final Pomodoro</h1>\r\n                    <div className=\"focusedTime\">\r\n                        <p>Total Focused Time</p>\r\n                        <p>{this.state.focusedTime} minutes</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"bulk-container\">\r\n                    <button id=\"toggle\">\r\n                        <i className=\"material-icons-round\">{this.state.expanded ? \"chevron_left\" : \"queue_music\"}</i>\r\n                    </button>\r\n                    <Timer sendFocusedTime={this.getFocusedTime} playerReady={this.state.playerReady}/>\r\n                    <MusicPlayer setPlayerStatus = {this.setPlayerStatus}/>   \r\n                </div>\r\n                <div className=\"footer\">\r\n                    <Link id=\"settings\" to=\"/settings\"><i className=\"material-icons-round\">settings</i></Link>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, {useState, useEffect} from 'react';\r\nimport '../css/Settings.css';\r\nimport '../css/Main.css';\r\n\r\nconst Settings = ({darkmode, setDarkmode}) => {\r\n\r\n    const [pref, setPref] =  useState({\r\n        playlistId: \"\",\r\n        continue: '',\r\n        shuffle: '',\r\n        darkmode: ''\r\n    })\r\n\r\n    const [saved, setSaved] = useState(true);\r\n\r\n    useEffect(()=>{\r\n        setPref(JSON.parse(localStorage.getItem(\"preferences\")));;\r\n    }, [])\r\n\r\n    const inputChange = (e) => {\r\n        setSaved(false);\r\n        setPref(({...pref, [e.target.name]: e.target.value}));\r\n    }\r\n\r\n    const checkChange = e => {\r\n        setSaved(false);\r\n        setPref(({...pref, [e.currentTarget.name]: e.currentTarget.checked}))\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(!saved){\r\n            const btn = document.querySelector(\".btn.btn-primary\");\r\n            btn.style.color = \"var(--secondary\";\r\n            btn.innerHTML = \"Save Changes\";\r\n            btn.style.background =\"var(--primary)\";\r\n        }\r\n    })\r\n\r\n    const submit = (e) => {\r\n        e.preventDefault();\r\n        \r\n        // Button Animation\r\n        const btn = document.querySelector(\".btn.btn-primary\");\r\n        btn.style.color = \"#fff\";\r\n        btn.innerHTML = '<span class=\"material-icons\">done</span>';\r\n        btn.style.background = \"var(--success)\";\r\n        setSaved(true);\r\n\r\n        // Link Stripping\r\n        var link = pref.playlistId.split(\"=\");\r\n        const playlistId = link.pop();\r\n        setPref(({...pref, playlistId: playlistId}));\r\n\r\n        // SavingLocal Storage \r\n        var local = JSON.parse(localStorage.getItem(\"preferences\"));\r\n        local.playlistId = playlistId;\r\n        local.continue = pref.continue;\r\n        local.shuffle = pref.shuffle;\r\n        local.darkmode = pref.darkmode;\r\n        localStorage.setItem(\"preferences\", JSON.stringify(local));\r\n\r\n        // Dark Mode Setting\r\n        setDarkmode(pref.darkmode);\r\n    }\r\n\r\n    const restore = (e) => {\r\n        e.preventDefault();\r\n        localStorage.removeItem(\"preferences\");\r\n    }\r\n\r\n    return (\r\n        <div className={darkmode ? \"main-container dark-mode\" : \"main-container light-mode\"}>\r\n            <div className=\"settings-header\">\r\n                <h1><a style={{\"color\": \"var(--primary)\"}} href=\"/\"><i className=\"backbutton material-icons-round\">arrow_back</i></a>Settings.</h1>\r\n            </div>\r\n            <div className=\"settings-display\">\r\n                <form className=\"settings-form\" onSubmit={submit}>\r\n                    <div className=\"settings-item\">\r\n                        <p>Youtube Playlist URL</p>\r\n                        <input className=\"playlistLink\" name=\"playlistId\" type=\"text\" placeholder=\"URL\" value={pref.playlistId} onClick={(e) => e.target.select()} onChange={inputChange} />\r\n                    </div>\r\n                    <div className=\"settings-item\">\r\n                        <p>Continue playing after timer</p>\r\n                        <div className=\"toggle-container\">\r\n                            <input id=\"switch\" className=\"continueCheck\" name=\"continue\" type=\"checkbox\" checked={pref.continue} onChange={checkChange} />\r\n                            <label htmlFor=\"switch\">Toggle</label>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"settings-item\">\r\n                        <p>Shuffle</p>\r\n                        <div className=\"toggle-container\">\r\n                            <input id=\"shuffle\" name=\"shuffle\" type=\"checkbox\" checked={pref.shuffle} onChange={checkChange} />\r\n                            <label htmlFor=\"shuffle\">Toggle</label>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"settings-item\">\r\n                        <p>Dark Mode</p>\r\n                        <div className=\"toggle-container\">\r\n                            <input id=\"darkmode\" name=\"darkmode\" type=\"checkbox\" checked={pref.darkmode} onChange={checkChange} />\r\n                            <label htmlFor=\"darkmode\">Toggle</label>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"button-container\">\r\n                        <button className=\"btn\" onClick={restore}>Restore Defaults</button>\r\n                        <button className=\"btn btn-primary\" type=\"submit\">Save Changes</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            <div className=\"footer\">\r\n                <p>2022 Cloud Computing HW3 Project</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings\r\n","import React, {useEffect, useState} from \"react\";\r\nimport {BrowserRouter as Router, Route} from \"react-router-dom\";\r\nimport Main from \"./Main\";\r\nimport Settings from \"./Settings\";\r\n\r\nconst App = () => {\r\n    const [darkMode, setDarkmode] = useState(()=>{\r\n        if(localStorage.getItem(\"preferences\")){\r\n            return JSON.parse(localStorage.getItem(\"preferences\")).darkmode;\r\n        }\r\n        else{\r\n            return true;\r\n        }\r\n    });\r\n\r\n    useEffect(()=>{\r\n        const preferences= {\r\n            playlistId: \"PLx65qkgCWNJIs3FPaj8JZhduXSpQ_ZfvL\",\r\n            continue: false,\r\n            shuffle: true,\r\n            darkmode: darkMode,\r\n        }\r\n        if(!localStorage.getItem(\"preferences\")){\r\n            localStorage.setItem(\"preferences\", JSON.stringify(preferences));\r\n        }\r\n    })\r\n\r\n    return (\r\n        <Router>\r\n            <Route path=\"/\" exact component={()=> <Main darkmode={darkMode}/>} />\r\n            <Route path=\"/settings\" exact component={()=><Settings darkmode={darkMode} setDarkmode={setDarkmode}/>} />\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './Components/App';\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n"],"sourceRoot":""}